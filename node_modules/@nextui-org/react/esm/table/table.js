import e,{useImperativeHandle as o,useRef as t}from"react";import{useTable as r}from"@react-aria/table";import{useTableState as i}from"@react-stately/table";import{Spacer as l}from"../index";import{pickSingleChild as a}from"../utils/collections";import n from"../utils/with-defaults";import s from"../utils/clsx";import c from"./table-row-group";import m from"./table-column-header";import d from"./table-header-row";import h from"./table-select-all-checkbox";import u from"./table-pagination";import p from"./table-footer";import b from"./table-body";import{StyledTable as f,StyledTableContainer as x}from"./table.styles";import g from"./table-context";import{isInfinityScroll as w,hasPaginationChild as v}from"./utils";import{jsx as y}from"react/jsx-runtime";import{jsxs as P}from"react/jsx-runtime";const k=e.forwardRef(((n,k)=>{const{css:N,selectionMode:C,selectionBehavior:S,hideLoading:j,children:M,shadow:L,color:B,animated:I,borderWeight:R,bordered:W,hoverable:F,sticked:T,containerCss:U,className:V}=n,[q,z]=a(M,u),{hasPagination:A,rowsPerPage:D}=v(M,u),E=i({...n,children:q,showSelectionCheckboxes:void 0!==n.showSelectionCheckboxes?n.showSelectionCheckboxes:"multiple"===C&&"replace"!==S}),G=t(null);o(k,(()=>null==G?void 0:G.current));const{collection:H}=E,{gridProps:J}=r(n,E,G),K=e.useMemo((()=>({collection:H,color:B,animated:I,rowsPerPage:D})),[H,I,B,D]);return y(g.Provider,{defaultValues:K,children:y(x,{borderWeight:R,bordered:W,className:"nextui-table-container",css:{...U},shadow:L,children:P(f,{ref:G,animated:I,className:s("nextui-table",V),color:B,css:N,hasPagination:A,hoverable:"none"!==C||F,isMultiple:"multiple"===C,shadow:L,...J,children:[P(c,{as:"thead",isFixed:w(H),children:[H.headerRows.map((e=>y(d,{item:e,state:E,children:[...e.childNodes].map((e=>{var o;return null!=e&&null!=(o=e.props)&&o.isSelectionCell?y(h,{animated:I,color:B,column:e,state:E},null==e?void 0:e.key):y(m,{animated:I,column:e,state:E},null==e?void 0:e.key)}))},null==e?void 0:e.key))),!T&&y(l,{as:"tr",className:"nextui-table-hidden-row",y:.4})]}),y(b,{animated:I,collection:H,color:B,hasPagination:A,hideLoading:j,state:E}),A&&P(p,{children:[y(l,{as:"tr",className:"nextui-table-hidden-row",y:.6}),y("tr",{role:"row",children:y("th",{colSpan:H.columnCount,role:"columnheader",tabIndex:-1,children:z})})]})]})})})}));k.displayName="NextUI.Table",k.toString=()=>".nextui-table";export default n(k,{animated:!0,hideLoading:!1,selectionMode:"none",selectionBehavior:"toggle"});